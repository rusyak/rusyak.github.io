$(function(){var a,b=$("#image"),c=$("#button"),d=$(".save-button"),e=$("#result"),f=!1;b.cropper({aspectRatio:1,viewMode:1,built:function(){f=!0}}),c.on("click",function(){$("#myModal").modal("show");var c;f&&(c=b.cropper("getCroppedCanvas"),a=c.toDataURL(),e.attr("src",a),b.cropper("reset"))}),d.on("click",function(){var b=document.createElement("a");b.href=a,b.download="image.png",b.click()}),$("#upload").on("change",function(a){var c=a.target.files[0],d=new FileReader;d.onload=function(a){b.attr("src",a.target.result),$('img[crossorigin="anonymous"]').attr("src",a.target.result)},b.cropper("reset"),d.readAsDataURL(c)})});